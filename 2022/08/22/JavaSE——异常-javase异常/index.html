<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>JavaSE——异常 | Hexo</title><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>var config = {"root":"/","path":"search.json"}</script><script src="//unpkg.com/mermaid@8.13.5/dist/mermaid.min.js"></script><script>mermaid.initialize({
 startOnLoad: true
 , theme: 'dark'
});</script><link rel="stylesheet" href="/css/arknights.css"><link rel="stylesheet" href="//unpkg.com/@highlightjs/cdn-assets@11.4.0/styles/atom-one-dark-reasonable.min.css"><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><meta name="generator" content="Hexo 6.3.0"></head><body style="background-image:url(https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg);"><main><header class="closed"><nav><div class="navBtn"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><ol class="navContent"><li class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="数据检索" spellcheck="false" maxlength="50" type="text" id="search-input"></span></li><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">舰船主页</span></a></li><li class="navItem"><a class="navBlock" href="/about/"><span class="navItemTitle">关于博士</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">博士の文章</span></a></li><li class="navItem"><a class="navBlock" href="/valine/"><span class="navItemTitle">建设中...</span></a></li></ol></nav><div class="search-popup"><div id="search-result"></div></div></header><article><div id="post-bg"><div id="post-title"><h1>JavaSE——异常</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2022-08-22T03:16:09.402Z" id="date"> 2022-08-22</time></div></span><br><span>Last Update: <div class="control"><time datetime="2022-08-23T15:45:38.238Z" id="updated"> 2022-08-23</time></div></span><br><span>Word Count: <div class="control">6.5k</div></span><br><span>Read Time: <div class="control">26 min</div></span></div></div><hr><div id="post-content"><h2 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h2><h3 id="认识异常"><a href="#认识异常" class="headerlink" title="认识异常"></a>认识异常</h3><p>1、什么是异常，java提供异常处理机制有什么用？<br>    以下程序执行过程中发生了不正常的情况，而这种不正常的情况叫做：异常<br>    java语言是很完善的语言，提供了异常的处理方式，以下程序执行过程中出现了不正常情况，<br>    java把该异常信息打印输出到控制台，供程序员参考。程序员看到异常信息之后，可以对<br>    程序进行修改，让程序更加的健壮。</p>
<p>   什么是异常：程序执行过程中的不正常情况。<br>    异常的作用：增强程序的健壮性。</p>
<p>2、以下程序执行控制台出现了：<br>    Exception in thread “main” java.lang.ArithmeticException: &#x2F; by zero<br>        at com.bjpowernode.javase.exception.ExceptionTest01.main(ExceptionTest01.java:14)<br>    这个信息被我们称为：异常信息。这个信息是JVM打印的。</p>
<p>3、重写之后的方法不能比重写之前的方法抛出更多（更宽泛）的异常，可以更少。<br> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExceptionTest01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-comment">// 实际上JVM在执行到此处的时候，会new异常对象：new ArithmeticException(&quot;/ by zero&quot;);</span><br>        <span class="hljs-comment">// 并且JVM将new的异常对象抛出，打印输出信息到控制台了。</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> a / b;<br>        System.out.println(a + <span class="hljs-string">&quot;/&quot;</span> + b + <span class="hljs-string">&quot;=&quot;</span> + c);<br><br>        <span class="hljs-comment">// 此处运行也会创建一个：ArithmeticException类型的异常对象。</span><br>        <span class="hljs-comment">//System.out.println(100 / 0);</span><br><br>        <span class="hljs-comment">// 我观察到异常信息之后，对程序进行修改，更加健壮。</span><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        int a = 10;</span><br><span class="hljs-comment">        int b = 2;</span><br><span class="hljs-comment">        if(b == 0) &#123;</span><br><span class="hljs-comment">            System.out.println(&quot;除数不能为0&quot;);</span><br><span class="hljs-comment">            return;</span><br><span class="hljs-comment">        &#125;</span><br><span class="hljs-comment">        // 程序执行到此处表示除数一定不是0</span><br><span class="hljs-comment">        int c = a / b;</span><br><span class="hljs-comment">        System.out.println(a + &quot;/&quot; + b + &quot;=&quot; + c);</span><br><span class="hljs-comment">         */</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.bjpowernode.javase.exception;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">java语言中异常是以什么形式存在的呢？</span><br><span class="hljs-comment">    1、异常在java中以类的形式存在，每一个异常类都可以创建异常对象。</span><br><span class="hljs-comment">    2、异常对应的现实生活中是怎样的？</span><br><span class="hljs-comment">        火灾(异常类)：</span><br><span class="hljs-comment">            2008年8月8日,小明家着火了（异常对象）</span><br><span class="hljs-comment">            2008年8月9日,小刚家着火了（异常对象）</span><br><span class="hljs-comment">            2008年9月8日,小红家着火了（异常对象）</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        类是：模板。</span><br><span class="hljs-comment">        对象是：实际存在的个体。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        钱包丢了（异常类）：</span><br><span class="hljs-comment">            2008年1月8日，小明的钱包丢了（异常对象）</span><br><span class="hljs-comment">            2008年1月9日，小芳的钱包丢了（异常对象）</span><br><span class="hljs-comment">            ....</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExceptionTest02</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>        <span class="hljs-comment">// 通过“异常类”实例化“异常对象”</span><br>        <span class="hljs-type">NumberFormatException</span> <span class="hljs-variable">nfe</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NumberFormatException</span>(<span class="hljs-string">&quot;数字格式化异常！&quot;</span>);<br><br>        <span class="hljs-comment">// java.lang.NumberFormatException: 数字格式化异常！</span><br>        System.out.println(nfe);<br><br>        <span class="hljs-comment">// 通过“异常类”创建“异常对象”</span><br>        <span class="hljs-type">NullPointerException</span> <span class="hljs-variable">npe</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NullPointerException</span>(<span class="hljs-string">&quot;空指针异常发生了！&quot;</span>);<br><br>        <span class="hljs-comment">//java.lang.NullPointerException: 空指针异常发生了！</span><br>        System.out.println(npe);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="异常处理机制"><a href="#异常处理机制" class="headerlink" title="异常处理机制"></a>异常处理机制</h3><p>1、异常在java中以类和对象的形式存在。那么异常的继承结构是怎样的？<br>    我们可以使用UML图来描述一下继承结构。<br>    画UML图有很多工具，例如：Rational Rose（收费的）、starUML等….<br>        Object<br>        Object下有Throwable（可抛出的）<br>        Throwable下有两个分支：Error（不可处理，直接退出JVM）和Exception（可处理的）<br>        Exception下有两个分支：<br>            Exception的直接子类：编译时异常（要求程序员在编写程序阶段必须预先对这些异常进行处理，如果不处理编译器报错，因此得名编译时异常。）。<br>            RuntimeException：运行时异常。（在编写程序阶段程序员可以预先处理，也可以不管，都行。）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment">以下代码报错的原因是什么？</span><br><span class="hljs-comment">    因为doSome()方法声明位置上使用了：throws ClassNotFoundException</span><br><span class="hljs-comment">    而ClassNotFoundException是编译时异常。必须编写代码时处理，没有处理</span><br><span class="hljs-comment">    编译器报错。</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExceptionTest04</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// main方法中调用doSome()方法</span><br>        <span class="hljs-comment">// 因为doSome()方法声明位置上有：throws ClassNotFoundException</span><br>        <span class="hljs-comment">// 我们在调用doSome()方法的时候必须对这种异常进行预先的处理。</span><br>        <span class="hljs-comment">// 如果不处理，编译器就报错。</span><br>        <span class="hljs-comment">//编译器报错信息： Unhandled exception: java.lang.ClassNotFoundException</span><br>        <span class="hljs-comment">//doSome();</span><br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * doSome方法在方法声明的位置上使用了：throws ClassNotFoundException</span><br><span class="hljs-comment">     * 这个代码表示doSome()方法在执行过程中，有可能会出现ClassNotFoundException异常。</span><br><span class="hljs-comment">     * 叫做类没找到异常。这个异常直接父类是：Exception，所以ClassNotFoundException属于编译时异常。</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> ClassNotFoundException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doSome</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> ClassNotFoundException&#123;<br>        System.out.println(<span class="hljs-string">&quot;doSome!!!!&quot;</span>);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>2、编译时异常和运行时异常，都是发生在运行阶段。编译阶段异常是不会发生的。<br>        编译时异常因为什么而得名？<br>        因为编译时异常必须在编译(编写)阶段预先处理，如果不处理编译器报错，因此得名。<br>        所有异常都是在运行阶段发生的。因为只有程序运行阶段才可以new对象。<br>        因为异常的发生就是new异常对象。</p>
<p>3、编译时异常和运行时异常的区别？</p>
<p>编译时异常一般发生的概率比较高。<br>            举个例子：<br>                你看到外面下雨了，倾盆大雨的。<br>                你出门之前会预料到：如果不打伞，我可能会生病（生病是一种异常）。<br>                而且这个异常发生的概率很高，所以我们出门之前要拿一把伞。<br>                “拿一把伞”就是对“生病异常”发生之前的一种处理方式。</p>
<p>对于一些发生概率较高的异常，需要在运行之前对其进行预处理。</p>
<p>运行时异常一般发生的概率比较低。<br>            举个例子：<br>                小明走在大街上，可能会被天上的飞机轮子砸到。<br>                被飞机轮子砸到也算一种异常。<br>                但是这种异常发生概率较低。<br>                在出门之前你没必要提前对这种发生概率较低的异常进行预处理。<br>                如果你预处理这种异常，你将活的很累。<br>        假设你在出门之前，你把能够发生的异常都预先处理，你这个人会更加的安全，但是你这个人活的很累。</p>
<p>假设java中没有对异常进行划分，没有分为：编译时异常和运行时异常，<br>        所有的异常都需要在编写程序阶段对其进行预处理，将是怎样的效果呢？<br>            首先，如果这样的话，程序肯定是绝对的安全的。<br>            但是程序员编写程序太累，代码到处都是处理异常的代码。</p>
<p>4、编译时异常还有其他名字：<br>        受检异常：CheckedException<br>        受控异常</p>
<p>5、运行时异常还有其它名字：<br>        未受检异常：UnCheckedException<br>        非受控异常</p>
<p>6、再次强调：所有异常都是发生在运行阶段的。</p>
<p>7、Java语言中对异常的处理包括两种方式：</p>
<p>第一种方式：在方法声明的位置上，使用throws关键字，抛给上一级。<br>            谁调用我，我就抛给谁。抛给上一级。</p>
<p>第二种方式：使用try..catch语句进行异常的捕捉。<br>            这件事发生了，谁也不知道，因为我给抓住了。</p>
<p>举个例子：<br>            我是某集团的一个销售员，因为我的失误，导致公司损失了1000元，<br>            “损失1000元”这可以看做是一个异常发生了。我有两种处理方式，<br>            第一种方式：我把这件事告诉我的领导【异常上抛】<br>            第二种方式：我自己掏腰包把这个钱补上。【异常的捕捉】</p>
<p>张三 –&gt; 李四 —&gt; 王五 –&gt; CEO</p>
<p>思考：<br>            异常发生之后，如果我选择了上抛，抛给了我的调用者，调用者需要对这个异常继续处理，那么调用者处理这个异常同样有两种处理方式。</p>
<p>8、注意：Java中异常发生之后如果一直上抛，最终抛给了main方法，main方法继续<br>    向上抛，抛给了调用者JVM，JVM知道这个异常发生，只有一个结果。终止java程序的执行。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.FileInputStream;<br><span class="hljs-keyword">import</span> java.io.FileNotFoundException;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">处理异常的第一种方式：</span><br><span class="hljs-comment">    在方法声明的位置上使用throws关键字抛出，谁调用我这个方法，我就抛给谁。抛给调用者来处理。</span><br><span class="hljs-comment">    这种处理异常的态度：上报。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">处理异常的第二种方式：</span><br><span class="hljs-comment">    使用try..catch语句对异常进行捕捉。</span><br><span class="hljs-comment">    这个异常不会上报，自己把这个事儿处理了。</span><br><span class="hljs-comment">    异常抛到此处为止，不再上抛了。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">注意：</span><br><span class="hljs-comment">    只要异常没有捕捉，采用上报的方式，此方法的后续代码不会执行。</span><br><span class="hljs-comment">    另外需要注意，try语句块中的某一行出现异常，该行后面的代码不会执行。</span><br><span class="hljs-comment">    try..catch捕捉异常之后，后续代码可以执行。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">在以后的开发中，处理编译时异常，应该上报还是捕捉呢，怎么选？</span><br><span class="hljs-comment">    如果希望调用者来处理，选择throws上报。</span><br><span class="hljs-comment">    其它情况使用捕捉的方式。</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExceptionTest06</span> &#123;<br>    <span class="hljs-comment">// 一般不建议在main方法上使用throws，因为这个异常如果真正的发生了，一定会抛给JVM。JVM只有终止。</span><br>    <span class="hljs-comment">// 异常处理机制的作用就是增强程序的健壮性。怎么能做到，异常发生了也不影响程序的执行。所以</span><br>    <span class="hljs-comment">// 一般main方法中的异常建议使用try..catch进行捕捉。main就不要继续上抛了。</span><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    public static void main(String[] args) throws FileNotFoundException &#123;</span><br><span class="hljs-comment">        System.out.println(&quot;main begin&quot;);</span><br><span class="hljs-comment">        m1();</span><br><span class="hljs-comment">        System.out.println(&quot;main over&quot;);</span><br><span class="hljs-comment">    &#125;</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>        <span class="hljs-comment">// 100 / 0这是算术异常，这个异常是运行时异常，你在编译阶段，可以处理，也可以不处理。编译器不管。</span><br>        <span class="hljs-comment">//System.out.println(100 / 0); // 不处理编译器也不管</span><br>        <span class="hljs-comment">// 你处理也可以。</span><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        try &#123;</span><br><span class="hljs-comment">            System.out.println(100 / 0);</span><br><span class="hljs-comment">        &#125; catch(ArithmeticException e)&#123;</span><br><span class="hljs-comment">            System.out.println(&quot;算术异常了！！！！&quot;);</span><br><span class="hljs-comment">        &#125;</span><br><span class="hljs-comment">         */</span><br><br>        System.out.println(<span class="hljs-string">&quot;main begin&quot;</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">// try尝试</span><br>            m1();<br>            <span class="hljs-comment">// 以上代码出现异常，直接进入catch语句块中执行。</span><br>            System.out.println(<span class="hljs-string">&quot;hello world!&quot;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (FileNotFoundException e)&#123; <span class="hljs-comment">// catch后面的好像一个方法的形参。</span><br>            <span class="hljs-comment">// 这个分支中可以使用e引用，e引用保存的内存地址是那个new出来异常对象的内存地址。</span><br>            <span class="hljs-comment">// catch是捕捉异常之后走的分支。</span><br>            <span class="hljs-comment">// 在catch分支中干什么？处理异常。</span><br>            System.out.println(<span class="hljs-string">&quot;文件不存在，可能路径错误，也可能该文件被删除了！&quot;</span>);<br>            System.out.println(e); <span class="hljs-comment">//java.io.FileNotFoundException: D:\course\01-课\学习方法.txt (系统找不到指定的路径。)</span><br>        &#125;<br><br>        <span class="hljs-comment">// try..catch把异常抓住之后，这里的代码会继续执行。</span><br>        System.out.println(<span class="hljs-string">&quot;main over&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">m1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> FileNotFoundException &#123;<br>        System.out.println(<span class="hljs-string">&quot;m1 begin&quot;</span>);<br>        m2();<br>        <span class="hljs-comment">// 以上代码出异常，这里是无法执行的。</span><br>        System.out.println(<span class="hljs-string">&quot;m1 over&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// 抛别的不行，抛ClassCastException说明你还是没有对FileNotFoundException进行处理</span><br>    <span class="hljs-comment">//private static void m2() throws ClassCastException&#123;</span><br>    <span class="hljs-comment">// 抛FileNotFoundException的父对象IOException，这样是可以的。因为IOException包括FileNotFoundException</span><br>    <span class="hljs-comment">//private static void m2() throws IOException &#123;</span><br>    <span class="hljs-comment">// 这样也可以，因为Exception包括所有的异常。</span><br>    <span class="hljs-comment">//private static void m2() throws Exception&#123;</span><br>    <span class="hljs-comment">// throws后面也可以写多个异常，可以使用逗号隔开。</span><br>    <span class="hljs-comment">//private static void m2() throws ClassCastException, FileNotFoundException&#123;</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">m2</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> FileNotFoundException &#123;<br>        System.out.println(<span class="hljs-string">&quot;m2 begin&quot;</span>);<br>        <span class="hljs-comment">// 编译器报错原因是：m3()方法声明位置上有：throws FileNotFoundException</span><br>        <span class="hljs-comment">// 我们在这里调用m3()没有对异常进行预处理，所以编译报错。</span><br>        <span class="hljs-comment">// m3();</span><br><br>        m3();<br>        <span class="hljs-comment">// 以上如果出现异常，这里是无法执行的！</span><br>        System.out.println(<span class="hljs-string">&quot;m2 over&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">m3</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> FileNotFoundException &#123;<br>        <span class="hljs-comment">// 调用SUN jdk中某个类的构造方法。</span><br>        <span class="hljs-comment">// 这个类还没有接触过，后期IO流的时候就知道了。</span><br>        <span class="hljs-comment">// 我们只是借助这个类学习一下异常处理机制。</span><br>        <span class="hljs-comment">// 创建一个输入流对象，该流指向一个文件。</span><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        编译报错的原因是什么？</span><br><span class="hljs-comment">            第一：这里调用了一个构造方法：FileInputStream(String name)</span><br><span class="hljs-comment">            第二：这个构造方法的声明位置上有：throws FileNotFoundException</span><br><span class="hljs-comment">            第三：通过类的继承结构看到：FileNotFoundException父类是IOException，IOException的父类是Exception，</span><br><span class="hljs-comment">            最终得知，FileNotFoundException是编译时异常。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">            错误原因？编译时异常要求程序员编写程序阶段必须对它进行处理，不处理编译器就报错。</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-comment">//new FileInputStream(&quot;D:\\course\\01-开课\\学习方法.txt&quot;);</span><br><br>        <span class="hljs-comment">// 我们采用第一种处理方式：在方法声明的位置上使用throws继续上抛。</span><br>        <span class="hljs-comment">// 一个方法体当中的代码出现异常之后，如果上报的话，此方法结束。</span><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">&quot;D:\\course\\01-课\\学习方法.txt&quot;</span>);<br><br>        System.out.println(<span class="hljs-string">&quot;如果以上代码出异常，这里会执行吗??????????????????不会！！！&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="深入理解try…catch…"><a href="#深入理解try…catch…" class="headerlink" title="深入理解try…catch…"></a>深入理解try…catch…</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.FileInputStream;<br><span class="hljs-keyword">import</span> java.io.FileNotFoundException;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">深入try..catch</span><br><span class="hljs-comment">    1、catch后面的小括号中的类型可以是具体的异常类型，也可以是该异常类型的父类型。</span><br><span class="hljs-comment">    2、catch可以写多个。建议catch的时候，精确的一个一个处理。这样有利于程序的调试。</span><br><span class="hljs-comment">    3、catch写多个的时候，从上到下，必须遵守从小到大。</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExceptionTest07</span> &#123;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    public static void main(String[] args) throws Exception, FileNotFoundException, NullPointerException &#123;</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    &#125;</span><br><span class="hljs-comment">     */</span><br><br>    <span class="hljs-comment">/*public static void main(String[] args) throws Exception &#123;</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    &#125;*/</span><br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>        <span class="hljs-comment">//编译报错</span><br>        <span class="hljs-comment">/*try &#123;</span><br><span class="hljs-comment">            FileInputStream fis = new FileInputStream(&quot;D:\\course\\02-JavaSE\\document\\JavaSE进阶讲义\\JavaSE进阶-01-面向对象.pdf&quot;);</span><br><span class="hljs-comment">        &#125; catch(NullPointerException e) &#123;</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        &#125;*/</span><br><br>        <span class="hljs-comment">/*try &#123;</span><br><span class="hljs-comment">            FileInputStream fis = new FileInputStream(&quot;D:\\curse\\02-JavaSE\\document\\JavaSE进阶讲义\\JavaSE进阶-01-面向对象.pdf&quot;);</span><br><span class="hljs-comment">            System.out.println(&quot;以上出现异常，这里无法执行！&quot;);</span><br><span class="hljs-comment">        &#125; catch(FileNotFoundException e) &#123;</span><br><span class="hljs-comment">            System.out.println(&quot;文件不存在！&quot;);</span><br><span class="hljs-comment">        &#125;</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        System.out.println(&quot;hello world!&quot;);*/</span><br><br>        <span class="hljs-comment">/*try &#123;</span><br><span class="hljs-comment">            FileInputStream fis = new FileInputStream(&quot;D:\\curse\\02-JavaSE\\document\\JavaSE进阶讲义\\JavaSE进阶-01-面向对象.pdf&quot;);</span><br><span class="hljs-comment">        &#125; catch(IOException e) &#123; // 多态：IOException e = new FileNotFoundException();</span><br><span class="hljs-comment">            System.out.println(&quot;文件不存在！&quot;);</span><br><span class="hljs-comment">        &#125;*/</span><br><br>        <span class="hljs-comment">/*try &#123;</span><br><span class="hljs-comment">            FileInputStream fis = new FileInputStream(&quot;D:\\curse\\02-JavaSE\\document\\JavaSE进阶讲义\\JavaSE进阶-01-面向对象.pdf&quot;);</span><br><span class="hljs-comment">        &#125; catch(Exception e) &#123; // 多态：Exception e = new FileNotFoundException();</span><br><span class="hljs-comment">            System.out.println(&quot;文件不存在！&quot;);</span><br><span class="hljs-comment">        &#125;*/</span><br><br>        <span class="hljs-comment">/*try &#123;</span><br><span class="hljs-comment">            //创建输入流</span><br><span class="hljs-comment">            FileInputStream fis = new FileInputStream(&quot;D:\\curse\\02-JavaSE\\document\\JavaSE进阶讲义\\JavaSE进阶-01-面向对象.pdf&quot;);</span><br><span class="hljs-comment">            //读文件</span><br><span class="hljs-comment">            fis.read();</span><br><span class="hljs-comment">        &#125; catch(Exception e) &#123; //所有的异常都走这个分支。</span><br><span class="hljs-comment">            System.out.println(&quot;文件不存在！&quot;);</span><br><span class="hljs-comment">        &#125;*/</span><br><br>        <span class="hljs-comment">/*try &#123;</span><br><span class="hljs-comment">            //创建输入流</span><br><span class="hljs-comment">            FileInputStream fis = new FileInputStream(&quot;D:\\curse\\02-JavaSE\\document\\JavaSE进阶讲义\\JavaSE进阶-01-面向对象.pdf&quot;);</span><br><span class="hljs-comment">            //读文件</span><br><span class="hljs-comment">            fis.read();</span><br><span class="hljs-comment">        &#125; catch(FileNotFoundException e) &#123;</span><br><span class="hljs-comment">            System.out.println(&quot;文件不存在！&quot;);</span><br><span class="hljs-comment">        &#125; catch(IOException e)&#123;</span><br><span class="hljs-comment">            System.out.println(&quot;读文件报错了！&quot;);</span><br><span class="hljs-comment">        &#125;*/</span><br><br>        <span class="hljs-comment">// 编译报错。</span><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        try &#123;</span><br><span class="hljs-comment">            //创建输入流</span><br><span class="hljs-comment">            FileInputStream fis = new FileInputStream(&quot;D:\\curse\\02-JavaSE\\document\\JavaSE进阶讲义\\JavaSE进阶-01-面向对象.pdf&quot;);</span><br><span class="hljs-comment">            //读文件</span><br><span class="hljs-comment">            fis.read();</span><br><span class="hljs-comment">        &#125; catch(IOException e)&#123;</span><br><span class="hljs-comment">            System.out.println(&quot;读文件报错了！&quot;);</span><br><span class="hljs-comment">        &#125; catch(FileNotFoundException e) &#123;</span><br><span class="hljs-comment">            System.out.println(&quot;文件不存在！&quot;);</span><br><span class="hljs-comment">        &#125;</span><br><span class="hljs-comment">         */</span><br><br>        <span class="hljs-comment">// JDK8的新特性！</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">//创建输入流</span><br>            <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">&quot;D:\\curse\\02-JavaSE\\document\\JavaSE进阶讲义\\JavaSE进阶-01-面向对象.pdf&quot;</span>);<br>            <span class="hljs-comment">// 进行数学运算</span><br>            System.out.println(<span class="hljs-number">100</span> / <span class="hljs-number">0</span>); <span class="hljs-comment">// 这个异常是运行时异常，编写程序时可以处理，也可以不处理。</span><br>        &#125; <span class="hljs-keyword">catch</span>(FileNotFoundException | ArithmeticException | NullPointerException e) &#123;<br>            System.out.println(<span class="hljs-string">&quot;文件不存在？数学异常？空指针异常？都有可能！&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="异常对象的常用方法"><a href="#异常对象的常用方法" class="headerlink" title="异常对象的常用方法"></a>异常对象的常用方法</h3><p>异常对象有两个非常重要的方法：</p>
<p> 获取异常简单的描述信息：<br>        String msg &#x3D; exception.getMessage();</p>
<p>  打印异常追踪的堆栈信息：<strong>（更常用）</strong><br>        exception.printStackTrace();</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.FileInputStream;<br><span class="hljs-keyword">import</span> java.io.FileNotFoundException;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">异常对象的两个方法：</span><br><span class="hljs-comment">    String msg = e.getMessage();</span><br><span class="hljs-comment">    e.printStackTrace(); // 一般都是使用这个。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">我们以后查看异常的追踪信息，我们应该怎么看，可以快速的调试程序呢？</span><br><span class="hljs-comment">    异常信息追踪信息，从上往下一行一行看。</span><br><span class="hljs-comment">    但是需要注意的是：SUN写的代码就不用看了(看包名就知道是自己的还是SUN的。)。</span><br><span class="hljs-comment">    主要的问题是出现在自己编写的代码上。</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExceptionTest09</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            m1();<br>        &#125; <span class="hljs-keyword">catch</span> (FileNotFoundException e) &#123;<br>            <span class="hljs-comment">// 获取异常的简单描述信息</span><br>            <span class="hljs-type">String</span> <span class="hljs-variable">msg</span> <span class="hljs-operator">=</span> e.getMessage();<br>            System.out.println(msg); <span class="hljs-comment">//C:\jetns-agent.jar (系统找不到指定的文件。)</span><br><br>            <span class="hljs-comment">//打印异常堆栈追踪信息！！！</span><br>            <span class="hljs-comment">//在实际的开发中，建议使用这个。养成好习惯！</span><br>            <span class="hljs-comment">// 这行代码要写上，不然出问题你也不知道！</span><br>            <span class="hljs-comment">//e.printStackTrace();</span><br>            <span class="hljs-comment">/*</span><br><span class="hljs-comment">            java.io.FileNotFoundException: C:\jetns-agent.jar (系统找不到指定的文件。)</span><br><span class="hljs-comment">                at java.base/java.io.FileInputStream.open0(Native Method)</span><br><span class="hljs-comment">                at java.base/java.io.FileInputStream.open(FileInputStream.java:213)</span><br><span class="hljs-comment">                at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:155)</span><br><span class="hljs-comment">                at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:110)</span><br><span class="hljs-comment">                at com.bjpowernode.javase.exception.ExceptionTest09.m3(ExceptionTest09.java:31)</span><br><span class="hljs-comment">                at com.bjpowernode.javase.exception.ExceptionTest09.m2(ExceptionTest09.java:27)</span><br><span class="hljs-comment">                at com.bjpowernode.javase.exception.ExceptionTest09.m1(ExceptionTest09.java:23)</span><br><span class="hljs-comment">                at com.bjpowernode.javase.exception.ExceptionTest09.main(ExceptionTest09.java:14)</span><br><span class="hljs-comment">                因为31行出问题导致了27行</span><br><span class="hljs-comment">                27行出问题导致23行</span><br><span class="hljs-comment">                23行出问题导致14行。</span><br><span class="hljs-comment">                应该先查看31行的代码。31行是代码错误的根源。</span><br><span class="hljs-comment">             */</span><br>        &#125;<br><br>        <span class="hljs-comment">// 这里程序不耽误执行，很健壮。《服务器不会因为遇到异常而宕机。》</span><br>        System.out.println(<span class="hljs-string">&quot;Hello World!&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">m1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> FileNotFoundException &#123;<br>        m2();<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">m2</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> FileNotFoundException &#123;<br>        m3();<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">m3</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> FileNotFoundException &#123;<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">&quot;C:\\jetns-agent.jar&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="finally语句的使用"><a href="#finally语句的使用" class="headerlink" title="finally语句的使用"></a>finally语句的使用</h3><p>关于try..catch中的finally子句：<br>    1、在finally子句中的代码是最后执行的，并且是一定会执行的，即使try语句块中的代码出现了异常。<br>        finally子句必须和try一起出现，不能单独编写。</p>
<p> 2、finally语句通常使用在哪些情况下呢？<br>        通常在finally语句块中完成资源的释放&#x2F;关闭。<br>        因为finally中的代码比较有保障。<br>        即使try语句块中的代码出现异常，finally中代码也会正常执行。</p>
<p>3、try和finally，没有catch可以吗？可以。<br>            try不能单独使用。<br>            try finally可以联合使用。<br>        以下代码的执行顺序：<br>            先执行try…<br>            再执行finally…<br>            最后执行 return （return语句只要执行方法必然结束。）</p>
<p>4、<strong>退出JVM之后，finally语句中的代码就不执行了</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.FileInputStream;<br><span class="hljs-keyword">import</span> java.io.FileNotFoundException;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExceptionTest10</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// 声明位置放到try外面。这样在finally中才能用。</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">// 创建输入流对象</span><br>            fis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">&quot;D:\\course\\02-JavaSE\\document\\JavaSE进阶讲义\\JavaSE进阶-01-面向对象.pdf&quot;</span>);<br>            <span class="hljs-comment">// 开始读文件....</span><br><br>            <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>            <span class="hljs-comment">// 这里一定会出现空指针异常！</span><br>            s.toString();<br>            System.out.println(<span class="hljs-string">&quot;hello world!&quot;</span>);<br><br>            <span class="hljs-comment">// 流使用完需要关闭，因为流是占用资源的。</span><br>            <span class="hljs-comment">// 即使以上程序出现异常，流也必须要关闭！</span><br>            <span class="hljs-comment">// 放在这里有可能流关不了。</span><br>            <span class="hljs-comment">//fis.close();</span><br>        &#125; <span class="hljs-keyword">catch</span> (FileNotFoundException e) &#123;<br>            e.printStackTrace();<br>        &#125; <span class="hljs-keyword">catch</span>(IOException e)&#123;<br>            e.printStackTrace();<br>        &#125; <span class="hljs-keyword">catch</span>(NullPointerException e) &#123;<br>            e.printStackTrace();<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            System.out.println(<span class="hljs-string">&quot;hello 浩克！&quot;</span>);<br>            <span class="hljs-comment">// 流的关闭放在这里比较保险。</span><br>            <span class="hljs-comment">// finally中的代码是一定会执行的。</span><br>            <span class="hljs-comment">// 即使try中出现了异常！</span><br>            <span class="hljs-keyword">if</span> (fis != <span class="hljs-literal">null</span>) &#123; <span class="hljs-comment">// 避免空指针异常！</span><br>                <span class="hljs-keyword">try</span> &#123;<br>                    <span class="hljs-comment">// close()方法有异常，采用捕捉的方式。</span><br>                    fis.close();<br>                &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        System.out.println(<span class="hljs-string">&quot;hello kitty!&quot;</span>);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>一道finally面试题：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment">finally面试题</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExceptionTest13</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> m();<br>        System.out.println(result); <span class="hljs-comment">//100</span><br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    java语法规则（有一些规则是不能破坏的，一旦这么说了，就必须这么做！）：</span><br><span class="hljs-comment">        java中有一条这样的规则：</span><br><span class="hljs-comment">            方法体中的代码必须遵循自上而下顺序依次逐行执行（亘古不变的语法！）</span><br><span class="hljs-comment">        java中还有一条语法规则：</span><br><span class="hljs-comment">            return语句一旦执行，整个方法必须结束（亘古不变的语法！）</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">m</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">// 这行代码出现在int i = 100;的下面，所以最终结果必须是返回100</span><br>            <span class="hljs-comment">// return语句还必须保证是最后执行的。一旦执行，整个方法结束。</span><br>            <span class="hljs-keyword">return</span> i;<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            i++;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">反编译之后的效果</span><br><span class="hljs-comment">public static int m()&#123;</span><br><span class="hljs-comment">    int i = 100;</span><br><span class="hljs-comment">    int j = i;</span><br><span class="hljs-comment">    i++;</span><br><span class="hljs-comment">    return j;</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment"> */</span><br></code></pre></td></tr></table></figure>

<p><strong>final finally finalize有什么区别？</strong></p>
<p>  <strong>final 关键字</strong><br>        final修饰的类无法继承<br>        final修饰的方法无法覆盖<br>        final修饰的变量不能重新赋值。</p>
<p> <strong>finally 关键字</strong><br>        和try一起联合使用。<br>        finally语句块中的代码是必须执行的。</p>
<p>  <strong>finalize 标识符</strong><br>        是一个Object类中的方法名。<br>        这个方法是由垃圾回收器GC负责调用的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExceptionTest14</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>        <span class="hljs-comment">// final是一个关键字。表示最终的。不变的。</span><br>        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;<br>        <span class="hljs-comment">//i = 200;</span><br><br>        <span class="hljs-comment">// finally也是一个关键字，和try联合使用，使用在异常处理机制中</span><br>        <span class="hljs-comment">// 在fianlly语句块中的代码是一定会执行的。</span><br>        <span class="hljs-keyword">try</span> &#123;<br><br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            System.out.println(<span class="hljs-string">&quot;finally....&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">// finalize()是Object类中的一个方法。作为方法名出现。</span><br>        <span class="hljs-comment">// 所以finalize是标识符。</span><br>        <span class="hljs-comment">// finalize()方法是JVM的GC垃圾回收器负责调用。</span><br>        Object obj;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// final修饰的类无法继承</span><br><span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;<br>    <span class="hljs-comment">// 常量。</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">double</span> <span class="hljs-variable">MATH_PI</span> <span class="hljs-operator">=</span> <span class="hljs-number">3.1415926</span>;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> &#123;<br>    <span class="hljs-comment">// final修饰的方法无法覆盖</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doSome</span><span class="hljs-params">()</span>&#123;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="自定义异常"><a href="#自定义异常" class="headerlink" title="自定义异常"></a>自定义异常</h3><p>1、SUN提供的JDK内置的异常肯定是不够的用的。在实际的开发中，有很多业务，<br>这些业务出现异常之后，JDK中都是没有的。和业务挂钩的。那么异常类我们<br>程序员可以自己定义吗？<br>    可以。</p>
<p>2、Java中怎么自定义异常呢？<br>    两步：<br>        第一步：编写一个类继承Exception或者RuntimeException.<br>        第二步：提供两个构造方法，一个无参数的，一个带有String参数的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Exception</span>&#123; <span class="hljs-comment">// 编译时异常</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyException</span><span class="hljs-params">()</span>&#123;<br><br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyException</span><span class="hljs-params">(String s)</span>&#123;<br>        <span class="hljs-built_in">super</span>(s);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">public class MyException extends RuntimeException&#123; // 运行时异常</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment"> */</span><br></code></pre></td></tr></table></figure>

<h3 id="异常在实际开发中的作用"><a href="#异常在实际开发中的作用" class="headerlink" title="异常在实际开发中的作用"></a>异常在实际开发中的作用</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment">	编写程序，使用一维数组，模拟栈数据结构。</span><br><span class="hljs-comment">	要求：</span><br><span class="hljs-comment">		1、这个栈可以存储java中的任何引用类型的数据。</span><br><span class="hljs-comment">		2、在栈中提供push方法模拟压栈。（栈满了，要有提示信息。）</span><br><span class="hljs-comment">		3、在栈中提供pop方法模拟弹栈。（栈空了，也有有提示信息。）</span><br><span class="hljs-comment">		4、编写测试程序，new栈对象，调用push pop方法来模拟压栈弹栈的动作。</span><br><span class="hljs-comment">		5、假设栈的默认初始化容量是10.（请注意无参数构造方法的编写方式。）</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyStack</span> &#123;<br>    <span class="hljs-comment">// 向栈当中存储元素，我们这里使用一维数组模拟。存到栈中，就表示存储到数组中。</span><br>    <span class="hljs-comment">// 因为数组是我们学习java的第一个容器。</span><br>    <span class="hljs-comment">// 为什么选择Object类型数组？因为这个栈可以存储java中的任何引用类型的数据</span><br>    <span class="hljs-comment">// new Animal()对象可以放进去，new Person()对象也可以放进去。因为Animal和Person的超级父类就是Object。</span><br>    <span class="hljs-comment">// 包括String也可以存储进去。因为String父类也是Object。</span><br>    <span class="hljs-keyword">private</span> Object[] elements;<br><br>    <span class="hljs-comment">// 栈帧，永远指向栈顶部元素</span><br>    <span class="hljs-comment">// 那么这个默认初始值应该是多少。注意：最初的栈是空的，一个元素都没有。</span><br>    <span class="hljs-comment">//private int index = 0; // 如果index采用0，表示栈帧指向了顶部元素的上方。</span><br>    <span class="hljs-comment">//private int index = -1; // 如果index采用-1，表示栈帧指向了顶部元素。</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> index;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 无参数构造方法。默认初始化栈容量10.</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyStack</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 一维数组动态初始化</span><br>        <span class="hljs-comment">// 默认初始化容量是10.</span><br>        <span class="hljs-built_in">this</span>.elements = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[<span class="hljs-number">10</span>];<br>        <span class="hljs-comment">// 给index初始化</span><br>        <span class="hljs-built_in">this</span>.index = -<span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 压栈的方法</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> obj 被压入的元素</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">push</span><span class="hljs-params">(Object obj)</span> <span class="hljs-keyword">throws</span> MyStackOperationException &#123;<br>        <span class="hljs-keyword">if</span>(index &gt;= elements.length - <span class="hljs-number">1</span>)&#123;<br>            <span class="hljs-comment">// 改良之前</span><br>            <span class="hljs-comment">//System.out.println(&quot;压栈失败，栈已满！&quot;);</span><br>            <span class="hljs-comment">//return;</span><br><br>            <span class="hljs-comment">// 创建异常对象</span><br>            <span class="hljs-comment">//MyStackOperationException e = new MyStackOperationException(&quot;压栈失败，栈已满！&quot;);</span><br>            <span class="hljs-comment">// 手动将异常抛出去！</span><br>            <span class="hljs-comment">//throw e; //这里捕捉没有意义，自己new一个异常，自己捉，没有意义。栈已满这个信息你需要传递出去。</span><br><br>            <span class="hljs-comment">// 合并（手动抛出异常！）</span><br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyStackOperationException</span>(<span class="hljs-string">&quot;压栈失败，栈已满！&quot;</span>);<br>        &#125;<br>        <span class="hljs-comment">// 程序能够走到这里，说明栈没满</span><br>        <span class="hljs-comment">// 向栈中加1个元素，栈帧向上移动一个位置。</span><br>        index++;<br>        elements[index] = obj;<br>        <span class="hljs-comment">// 在声明一次：所有的System.out.println()方法执行时，如果输出引用的话，自动调用引用的toString()方法。</span><br>        System.out.println(<span class="hljs-string">&quot;压栈&quot;</span> + obj + <span class="hljs-string">&quot;元素成功，栈帧指向&quot;</span> + index);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 弹栈的方法，从数组中往外取元素。每取出一个元素，栈帧向下移动一位。</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pop</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> MyStackOperationException &#123;<br>        <span class="hljs-keyword">if</span>(index &lt; <span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-comment">//System.out.println(&quot;弹栈失败，栈已空！&quot;);</span><br>            <span class="hljs-comment">//return;</span><br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyStackOperationException</span>(<span class="hljs-string">&quot;弹栈失败，栈已空！&quot;</span>);<br>        &#125;<br>        <span class="hljs-comment">// 程序能够执行到此处说明栈没有空。</span><br>        System.out.print(<span class="hljs-string">&quot;弹栈&quot;</span> + elements[index] + <span class="hljs-string">&quot;元素成功，&quot;</span>);<br>        <span class="hljs-comment">// 栈帧向下移动一位。</span><br>        index--;<br>        System.out.println(<span class="hljs-string">&quot;栈帧指向&quot;</span> + index);<br>    &#125;<br><br>    <span class="hljs-comment">// set和get也许用不上，但是你必须写上，这是规矩。你使用IDEA生成就行了。</span><br>    <span class="hljs-comment">// 封装：第一步：属性私有化，第二步：对外提供set和get方法。</span><br>    <span class="hljs-keyword">public</span> Object[] getElements() &#123;<br>        <span class="hljs-keyword">return</span> elements;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setElements</span><span class="hljs-params">(Object[] elements)</span> &#123;<br>        <span class="hljs-built_in">this</span>.elements = elements;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getIndex</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> index;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setIndex</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> &#123;<br>        <span class="hljs-built_in">this</span>.index = index;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyStackOperationException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Exception</span>&#123; <span class="hljs-comment">// 编译时异常！</span><br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyStackOperationException</span><span class="hljs-params">()</span>&#123;<br><br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyStackOperationException</span><span class="hljs-params">(String s)</span>&#123;<br>        <span class="hljs-built_in">super</span>(s);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs java">测试改良之后的MyStack<br><span class="hljs-comment">// 注意：最后这个例子，是异常最终要的案例。必须掌握。自定义异常在实际开发中的应用。</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExceptionTest16</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>        <span class="hljs-comment">// 创建栈对象</span><br>        <span class="hljs-type">MyStack</span> <span class="hljs-variable">stack</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyStack</span>();<br><br>        <span class="hljs-comment">// 压栈</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            stack.push(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());<br>            stack.push(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());<br>            stack.push(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());<br>            stack.push(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());<br>            stack.push(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());<br>            stack.push(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());<br>            stack.push(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());<br>            stack.push(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());<br>            stack.push(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());<br>            stack.push(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());<br>            <span class="hljs-comment">// 这里栈满了</span><br>            stack.push(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>());<br>        &#125; <span class="hljs-keyword">catch</span> (MyStackOperationException e) &#123;<br>            <span class="hljs-comment">// 输出异常的简单信息。</span><br>            System.out.println(e.getMessage());<br>        &#125;<br><br>        <span class="hljs-comment">// 弹栈</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            stack.pop();<br>            stack.pop();<br>            stack.pop();<br>            stack.pop();<br>            stack.pop();<br>            stack.pop();<br>            stack.pop();<br>            stack.pop();<br>            stack.pop();<br>            stack.pop();<br>            <span class="hljs-comment">// 弹栈失败</span><br>            stack.pop();<br>        &#125; <span class="hljs-keyword">catch</span> (MyStackOperationException e) &#123;<br>            System.out.println(e.getMessage());<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><div id="paginator"></div></div><div id="post-footer"><div id="pages"><div id="footer-link" style="right: calc(50% - 1px);order: 1;border-right: 1px solid #fe2;padding-left: unset;max-width: calc(50% - 4px);"><a href="/2022/08/24/JavaSE%E2%80%94%E2%80%94%E9%9B%86%E5%90%88%EF%BC%881%EF%BC%89-javase%E9%9B%86%E5%90%88/">← Next JavaSE——集合（1）</a></div><div id="footer-link" style="left: 50%;order: 0;border-left: 1px solid #fe2;padding-right: unset;max-width: calc(50% - 5px);"><a href="/2022/08/21/JavaSE%E2%80%94%E2%80%94Date%E7%B1%BBNumber%E7%B1%BB%E9%9A%8F%E6%9C%BA%E6%95%B0%E6%9E%9A%E4%B8%BE-javasedate-lei-number-lei--sui-ji-shu--mei-ju/">JavaSE——Date类||Number类||随机数||枚举 Prev →</a></div></div></div><div id="Valine"></div></div><div id="bottom-btn"><a id="to-index" href="#toc-div" title="index">≡</a><a id="to-top" onClick="scrolls.scrolltop();" title="to top" style="opacity: 0; display: none;">∧</a></div></article><aside><div id="aside-top"><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Oliver Chen</a></h1><div id="description"></div></div><div id="aside-block"><div id="toc-div"><h1>INDEX</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8"><span class="toc-number">1.</span> <span class="toc-text">异常</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E5%BC%82%E5%B8%B8"><span class="toc-number">1.1.</span> <span class="toc-text">认识异常</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6"><span class="toc-number">1.2.</span> <span class="toc-text">异常处理机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3try%E2%80%A6catch%E2%80%A6"><span class="toc-number">1.3.</span> <span class="toc-text">深入理解try…catch…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.4.</span> <span class="toc-text">异常对象的常用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#finally%E8%AF%AD%E5%8F%A5%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.5.</span> <span class="toc-text">finally语句的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8"><span class="toc-number">1.6.</span> <span class="toc-text">自定义异常</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%9C%A8%E5%AE%9E%E9%99%85%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.7.</span> <span class="toc-text">异常在实际开发中的作用</span></a></li></ol></li></ol></div></div></div><footer><nobr><span class="text-title">ICP</span><a class="text-content" target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">懒得备案</a></nobr><nobr><span class="text-title">©</span><span class="text-content">1970 to 2023</span></nobr><br><nobr>published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknight</a></nobr><wbr><nobr>by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><div id="cursor-container"><div id="cursor-outer"></div><div id="cursor-effect"></div></div><script src="/js/search.js"></script><script class="pjax-js">reset=_=>{new Valine({
 el: '#Valine'
 , appId: 'VXJpDLBtIuAgtIMNqazuy0eY-gzGzoHsz'
 , appKey: 'wzl7lI6VNnLw8deYXvRaTgOc' , placeholder: '此条评论委托企鹅物流发送'
});code.findCode();mermaid.init(undefined, ('.mermaid'));}</script><script src="//unpkg.com/@highlightjs/cdn-assets@11.4.0/highlight.min.js"></script><script src="/js/arknights.js"></script><script>window.addEventListener("load",()=>{reset()})</script></body></html>